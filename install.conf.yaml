- defaults:
    link:
      create: true
      relink: true
      force: false

- clean: ["~"]

- link:
    # Shell
    ~/.zshenv: .zshenv
    ~/.bashrc: .bashrc

    # XDG Config
    ~/.config/zsh: dotconfig/zsh
    ~/.config/mise: dotconfig/mise
    ~/.config/tmux: dotconfig/tmux
    ~/.config/git: dotconfig/git
    ~/.config/vim: dotconfig/vim
    ~/.config/starship.toml: dotconfig/starship.toml
    ~/.config/systemd: dotconfig/systemd
    ~/.config/environment.d: dotconfig/environment.d

    # Hardcoded Configs
    ~/.ssh/config: ssh/config

    # Reverse Recursive Lookup
    ~/.editorconfig: .editorconfig

- create:
    - ~/Projects

- shell:
    - [
        git submodule update --init --recursive --progress,
        Installing submodules,
      ]

    - [
        command -v starship || sh -c "$(curl -fsSL https://starship.rs/install.sh)" -y -f,
        Installing Starship,
      ]
    - [command -v mise || curl https://mise.run | sh, Installing mise]
    # Install keychain on apt-based systems
    -
      command: sudo apt-get update && sudo apt-get install -y keychain
      description: Installing keychain (apt-based systems)
      if: 'command -v apt-get'
